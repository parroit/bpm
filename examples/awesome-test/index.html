<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" 
        content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
      <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">

      <!-- Optional theme -->
      <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css">


      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.1.0/respond.min.js"></script>
      <![endif]-->



    
  </head>
  
  <body>

  <!--<script src="../../xdomain/dist/xdomain.js" slave="http://parroit.github.io/bpm/proxy.html"></script>
-->
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <!-- Latest compiled and minified JavaScript -->
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

    <script src="https://raw.github.com/parroit/bpm/master/src/src/zip.js/zip.js"></script>
    <script src="https://raw.github.com/parroit/bpm/master/src/src/zip.js/zip-fs.js"></script>
    <script src="https://raw.github.com/parroit/bpm/master/src/src/zip.js/mime-types.js"></script>
    <script src="https://raw.github.com/parroit/bpm/master/src/src/zip.js/zip-ext.js"></script>
  <script src="https://raw.github.com/parroit/bpm/master/src/src/HttpRangeReaderCORS.js"></script>



    <script>
        bpm.useRepository("http://parroit.github.io/bpm/repo/");
        //bpm.useRepository("http://localhost:3000/repo/");
        bpm.createEmptyRepo(function(){

            //testami ver. 0 will check if two independent version
            //of same module could coesist. module testami
            //ver. 0.0.0 depend on modules test and baz.
            //they in turn depend on different version of module foo.

            //if the test pass, they should display two different
            //alerts
            bpm.install("testami","0.0.0",function(require) {

                var testModule = require("testami");

                testModule.run();
            });

            //testami ver. 0 will check if it's possible for
            //main module of package to call internal submodule.
            //testami ver. 1 contains main module and logger module.

            //main module just require logger module
            //and, if test succeed it display an alert.
            bpm.install("testami","0.0.1",function(require) {

                var testModule = require("testami");

                testModule.run();
            });

        });
    </script>
  </body>
</html>